<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html >
    <head>
        <title>Manga Esiee</title>
        <script charset="UTF-8" type="text/javascript" src="../lib/raphael-min.js"></script>
<!--         <script charset="UTF-8" type="text/javascript" src="../lib/componentDesigner-min.js"></script> -->
        <script charset="UTF-8" type="text/javascript" src="../lib/componentDesigner.js"></script>
        <style type="text/css">
            #my_canvas_container_id {
                width: 4000px;
                height: 4000px;
                border: 1px solid #aaa;
            }
        </style>
    </head>
    <body >
        <div id="my_canvas_container_id">
        	<script type="text/javascript">
        	
        		// Creation du builder
        		var designer = esiee_components.get_designer();        	
        		
        		// Propriétés du composant à dessiner
        		designer.canvas_container_id = "my_canvas_container_id";
        		
        		var xhttp = new XMLHttpRequest();
        	    xhttp.open("GET", 'http://localhost:8045/api/items', false);
        	    xhttp.setRequestHeader("Content-type", "application/json");
        	    xhttp.send();
        	    var response = JSON.parse(xhttp.responseText);
        	    
        	    console.log("Receive from web service : " + response)
        		
        		designer.nom = response[0].nom;
        	    designer.ellipses = response[0].ellipses;
        	    designer.formesAvecPoints = response[0].formesAvecPoints;
        	    
        		// Creation du graphique apres chargement de la page
        		designer.drawComponents();
        		
        	</script>
        </div>
    </body>
</html>
        